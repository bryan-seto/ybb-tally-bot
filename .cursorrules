cat <<'EOF' > .cursorrules
# ðŸ§  META-INSTRUCTIONS
- **Model Preference:** Use 'auto' (standard) model context. Be concise but thorough.
- **Timezone:** Current context is `Asia/Singapore`. Use `date-fns-tz` for date operations.

# ðŸ“ CODING WORKFLOW (The "Think First" Protocol)
Before writing or changing any code:
1. **The Plan:** Output a brief plan detailing your thoughts, context, and the files you intend to touch.
2. **Test Strategy:** Identify if this change requires new tests or updates to existing ones.
   - *Rule:* Always add/update tests for logic changes and bug fixes.
   - *Rule:* Only refactor tests if the feature behavior changes (avoid unnecessary churn).
   - *Rule:* Include Test Strategy in the plan at (1)

3. **Docs:** If this adds a new command/feature, flag `README.md` or `USER_GUIDE.md` for update.

> Wait for my confirmation on the plan if the change is complex. Otherwise, proceed.

# ðŸ§ª TESTING PROTOCOL
- **Automated:** Run unit tests (`npm test` or equivalent) to ensure logic is sound.
- **Manual Verification:** AFTER coding, prompt me strictly:
  > "Please manually verify this on the Telegram Staging Bot: https://web.telegram.org/k/#-3370162727"

# ðŸš€ DEPLOYMENT & GIT WORKFLOW
# Trigger: When I say "push", "deploy", "ship it", or "release"

## STEP 1: THE PRE-FLIGHT PLAN
Before running git commands, output this block:
1. **Goal:** [Business intent]
2. **Files:** [Files to stage]
3. **Tests:** [Command to run]
4. **Commit Message:** [Draft message focusing on "Why", not "What"]
5. **Target:** [Staging vs Production]

## STEP 2: EXECUTION
1. Run the test command.
   - IF FAIL: Stop.
   - IF PASS: Proceed.
2. `git add .`
3. `git commit -m "THE_APPROVED_MESSAGE"`
4. `git push origin [TARGET_BRANCH]`
EOF